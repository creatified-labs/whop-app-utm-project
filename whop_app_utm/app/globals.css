@layer theme, base, frosted_ui, components, utilities;

@import "tailwindcss/theme.css" layer(theme);
@import "tailwindcss/preflight.css" layer(base);
@import "tailwindcss/utilities.css" layer(utilities);

/* biome-ignore lint/suspicious/noUnknownAtRules: this rule is imported from whop */
@config '../tailwind.config.ts';

:root {
	/* Core colors */
	--background: 210 20% 98%;
	--foreground: 222.2 84% 4.9%;

	--card: 0 0% 100%;
	--card-foreground: 222.2 84% 4.9%;

	--popover: 0 0% 100%;
	--popover-foreground: 222.2 84% 4.9%;

	--primary: 222.2 47.4% 11.2%;
	--primary-foreground: 210 40% 98%;

	--secondary: 210 40% 96.1%;
	--secondary-foreground: 222.2 47.4% 11.2%;

	--muted: 210 40% 96.1%;
	--muted-foreground: 215.4 16.3% 46.9%;

	--accent: 210 40% 96.1%;
	--accent-foreground: 222.2 47.4% 11.2%;

	--destructive: 0 84.2% 60.2%;
	--destructive-foreground: 210 40% 98%;

	--border: 214 32% 91%;
	--input: 214 32% 91%;
	--ring: 222.2 84% 4.9%;

	/* Radius */
	--radius: 1rem;

	/* Frosted glass + motion */
	--glass-bg: 0 0% 100%;
	--glass-border: 0 0% 100%;
	--glass-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.15);
	--glass-shadow-hover: 0 8px 48px 0 rgba(31, 38, 135, 0.25);

	--transition-smooth: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
	--transition-fast: all 0.15s ease-out;

	/* Sidebar + scrollbars (optional) */
	--sidebar-background: 0 0% 98%;
	--sidebar-foreground: 240 5.3% 26.1%;
	--sidebar-primary: 240 5.9% 10%;
	--sidebar-primary-foreground: 0 0% 98%;
	--sidebar-accent: 240 4.8% 95.9%;
	--sidebar-accent-foreground: 240 5.9% 10%;
	--sidebar-border: 220 13% 91%;
	--sidebar-ring: 217.2 91.2% 59.8%;
	--scrollbar-track: 210 40% 96.1%;
	--scrollbar-thumb: 215 16% 65%;
}

.dark {
	--background: 0 0% 5%;
	--foreground: 0 0% 98%;

	--card: 0 0% 8%;
	--card-foreground: 0 0% 98%;

	--popover: 0 0% 8%;
	--popover-foreground: 0 0% 98%;

	/* Dark primary surface with white text so buttons stay readable */
	--primary: 0 0% 18%;
	--primary-foreground: 0 0% 98%;

	--secondary: 0 0% 12%;
	--secondary-foreground: 0 0% 98%;

	--muted: 0 0% 12%;
	--muted-foreground: 0 0% 92%;

	--accent: 0 0% 12%;
	--accent-foreground: 0 0% 98%;

	--destructive: 0 62.8% 30.6%;
	--destructive-foreground: 0 0% 98%;

	--border: 0 0% 18%;
	--input: 0 0% 18%;
	--ring: 0 0% 83.9%;

	--glass-bg: 0 0% 8%;
	--glass-border: 0 0% 18%;
	--glass-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.5);
	--glass-shadow-hover: 0 8px 48px 0 rgba(0, 0, 0, 0.7);

	--sidebar-background: 0 0% 5%;
	--sidebar-foreground: 0 0% 98%;
	--sidebar-primary: 224.3 76.3% 48%;
	--sidebar-primary-foreground: 0 0% 100%;
	--sidebar-accent: 0 0% 10%;
	--sidebar-accent-foreground: 0 0% 98%;
	--sidebar-border: 0 0% 15%;
	--sidebar-ring: 217.2 91.2% 59.8%;

	--scrollbar-track: 0 0% 15%;
	--scrollbar-thumb: 0 0% 40%;
}

body {
	background: hsl(var(--background));
	color: hsl(var(--foreground));
	font-family: "Frutiger", "Helvetica Neue", Helvetica, "Clearview",
		var(--font-geist-sans), system-ui, -apple-system, BlinkMacSystemFont,
		"SF Pro Text", sans-serif;
}

/* React Grid Layout: red placeholder box when dragging/resizing widgets */
.react-grid-layout {
	position: relative;
}

/* Layout shell responsive container */
.layout-shell {
	width: 100%;
	margin: 0 auto;
}

/* Ensure grid items are properly sized on all screens */
.react-grid-item {
	transition: all 200ms ease;
	transition-property: left, top, width, height;
}

.react-grid-item>* {
	width: 100%;
	height: 100%;
	overflow: visible;
}

.react-grid-placeholder {
	background: rgba(148, 163, 184, 0.12);
	/* neutral slate-like ghost */
	border: 1px dashed rgba(148, 163, 184, 0.65);
	border-radius: 1rem;
	transition: none;
}

/* Ensure react-grid-layout placeholder never appears red */
.react-grid-item.react-grid-placeholder {
	background: rgba(148, 163, 184, 0.12) !important;
	border-color: rgba(148, 163, 184, 0.65) !important;
}

.react-resizable-handle {
	position: absolute;
	box-sizing: border-box;
	background: transparent !important;
	background-image: none !important;
	/* remove original arrow icon */
	background-repeat: no-repeat;
	border: none;
	opacity: 0;
	/* keep hit area, hide visuals */
}

.react-resizable-handle-se {
	width: 26px;
	height: 26px;
	right: 4px;
	bottom: 4px;
	background: transparent;
	background-image: none !important;
	border: none;
}

.react-resizable-handle-se::before {
	content: none !important;
	/* no indicator from the handle itself */
}

/* Hide any built-in inner icon (e.g. SVG) from react-resizable so only our
   curved ::before indicator is visible. */
.react-resizable-handle * {
	display: none !important;
}

@property --growth-border-angle {
	syntax: "<angle>";
	initial-value: 0deg;
	inherits: false;
}

@keyframes growth-border-orbit {
	to {
		--growth-border-angle: 360deg;
	}
}

.growth-plan-animated {
	position: relative;
	z-index: 0;
	/* match Tailwind rounded-xl radius so the animated border follows the card corners */
	border-radius: 0.75rem;
	border: 5px solid transparent;
	background:
		/* inner card surface */
		linear-gradient(135deg, #020617, #020617) padding-box,
		/* animated border "train" */
		conic-gradient(from var(--growth-border-angle),
			transparent 0deg,
			transparent 240deg,
			#22c55e 260deg,
			#38bdf8 290deg,
			#6366f1 320deg,
			#22c55e 350deg,
			transparent 360deg) border-box;
	animation: growth-border-orbit 3s linear infinite;
}

.dark .growth-plan-animated {
	/* override inner surface to white in dark mode while keeping the animated border */
	background:
		linear-gradient(#ffffff, #ffffff) padding-box,
		conic-gradient(from var(--growth-border-angle),
			transparent 0deg,
			transparent 240deg,
			#22c55e 260deg,
			#38bdf8 290deg,
			#6366f1 320deg,
			#22c55e 350deg,
			transparent 360deg) border-box;
}